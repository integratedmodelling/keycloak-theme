import{jsx as t,jsxs as l,Fragment as f}from"react/jsx-runtime";import{useState as g}from"react";import{P as x,b as D}from"./Page-52sjw9jm.js";import{E as N,D as C}from"./EmptyRow-ChoLbxlk.js";import{f as L}from"./formatDate-D6sCZZr5.js";import{u as w,a as $,b as S,S as v,P as I,T as m,B as c,k,K as A,l as T}from"./index-cF5ei3Lq.js";import{T as P}from"./Trans-CI6WiFD0.js";import{S as M,a as h}from"./SplitItem-D-1HUKQI.js";import{D as E,a as K,b as R}from"./DataListItemRow-AvrjezSL.js";import{D as U,a as u}from"./DataListItemCells-B-ReM56M.js";import"react-dom";import"./grip-vertical-icon-BbFWIu7M.js";const W=({title:a,onClick:d,testid:r})=>{const[n,p]=g(!1);return l(f,{children:[t(k,{isPlain:!0,position:"right",toggle:t(A,{onToggle:p}),className:"pf-u-display-none-on-lg",isOpen:n,dropdownItems:[t(T,{onClick:d,children:a},"1")]}),t(c,{variant:"link",onClick:d,className:"pf-u-display-none pf-u-display-inline-flex-on-lg","data-testid":r,children:a})]})},X=()=>{const{t:a}=w(),d=$(),{login:r}=d.keycloak,[n,p]=g();S(i=>D({signal:i,context:d}),p,[]);const y=i=>{const e=i.credential,o=[t(u,{"data-testrole":"label",className:"pf-u-max-width",style:{"--pf-u-max-width--MaxWidth":"300px"},children:e.userLabel||a(e.type)},"title")];return e.createdDate&&o.push(t(u,{"data-testrole":"created-at",children:l(P,{i18nKey:"credentialCreatedAt",children:[t("strong",{className:"pf-u-mr-md"}),{date:L(new Date(e.createdDate))}]})},"created"+e.id)),o};if(!n)return t(v,{});const b=[...new Set(n.map(i=>i.category))];return t(x,{title:a("signingIn"),description:a("signingInDescription"),children:b.map(i=>l(I,{variant:"light",className:"pf-u-px-0",children:[t(m,{headingLevel:"h2",size:"xl",id:`${i}-categ-title`,children:a(i)}),n.filter(e=>e.category==i).map(e=>l(f,{children:[l(M,{className:"pf-u-mt-lg pf-u-mb-lg",children:[l(h,{children:[t(m,{headingLevel:"h3",size:"md",className:"pf-u-mb-md","data-testid":`${e.type}/help`,children:t("span",{className:"cred-title pf-u-display-block","data-testid":`${e.type}/title`,children:a(e.displayName)})}),t("span",{"data-testid":`${e.type}/help-text`,children:a(e.helptext)})]}),e.createAction&&t(h,{isFilled:!0,children:t("div",{className:"pf-u-float-right",children:t(W,{onClick:()=>r({action:e.createAction}),title:a("setUpNew",{name:a(`${e.type}-display-name`)}),testid:`${e.type}/create`})})})]}),l(E,{"aria-label":"credential list",className:"pf-u-mb-xl","data-testid":`${e.type}/credential-list`,children:[e.userCredentialMetadatas.length===0&&t(N,{message:a("notSetUp",{name:a(e.displayName)}),"data-testid":`${e.type}/not-set-up`}),e.userCredentialMetadatas.map(s=>t(K,{children:t(R,{id:`cred-${s.credential.id}`,children:t(U,{className:"pf-u-py-0",dataListCells:[...y(s),t(C,{id:`action-${s.credential.id}`,"aria-label":a("updateCredAriaLabel"),"aria-labelledby":`cred-${s.credential.id}`,children:e.removeable?t(c,{variant:"danger",onClick:()=>{r({action:"delete_credential:"+s.credential.id})},children:a("delete")}):t(c,{variant:"secondary",onClick:()=>{e.updateAction&&r({action:e.updateAction})},"data-testrole":"update",children:a("update")})},"action")]})})},s.credential.id))]})]}))]},i))})};export{X as SigningIn,X as default};
//# sourceMappingURL=SigningIn-qXO_Lhx3.js.map
